var subtitle_url="http://hbedu1.starplayer.kr/scms/cc.asp";function initScriptUI(H){var y=false;var F=false;var v;$(".starplayer_script_ui a").click(function(L){L.preventDefault()});$(".starplayer_script_ui").each(function(){this.onselectstart=function(){return false};this.unselectable="on";jQuery(this).css("user-select","none");jQuery(this).css("-o-user-select","none");jQuery(this).css("-moz-user-select","none");jQuery(this).css("-khtml-user-select","none");jQuery(this).css("-webkit-user-select","none")});$(".btn_play").click(q);$(".btn_pause").click(function(){H.pause()});$(".btn_backward").click(function(){SkipTimeCheck("back")});$(".btn_forward").click(function(){SkipTimeCheck("front")});$(".btn_rate_minus").click(function(){u()});$(".btn_rate_plus").click(function(){n()});$(".btn_rate").click(function(){l()});$(".btn_repeat").click(function(){b()});$(".btn_fullscreen").click(function(){m()});$(".btn_mute").click(function(){I()});$(".btn_resolution").click(function(){c()});$(".btn_speed06").click(function(){e(0.6)});$(".btn_speed08").click(function(){e(0.8)});$(".btn_speed10").click(function(){e(1)});$(".btn_speed12").click(function(){e(1.2)});$(".btn_speed14").click(function(){e(1.4)});$(".btn_speed16").click(function(){e(1.6)});$(".btn_speed18").click(function(){e(1.8)});$(".btn_speed20").click(function(){e(2)});$(".btn_sd").click(function(){E("sd")});$(".btn_hd").click(function(){E("hd")});$(".volumebar").hover(function(){$(".btn_volume").show()},function(){$(".btn_volume").hide()});$(".seekbar_l").hover(function(){$(".btn_seek").show()},function(){$(".btn_seek").hide()});$("#video-container").click(function(){s()});function s(){if($(".rate_popup").css("display")=="block"){$(".rate_popup").hide()}if($(".resolution_popup").css("display")=="block"){$(".resolution_popup").hide()}}function E(L){switch(L){case"sd":H.onCustom(200);$(".btn_resolution").addClass("sd");$(".btn_resolution").removeClass("hd");$(".btn_common2").removeClass("active");$(".btn_sd").addClass("active");break;case"hd":H.onCustom(201);$(".btn_resolution").addClass("hd");$(".btn_resolution").removeClass("sd");$(".btn_common2").removeClass("active");$(".btn_hd").addClass("active");break}}function c(){var L=$(".resolution_popup").css("display");if($(".rate_popup").css("display")){$(".rate_popup").hide()}if(L!="none"){$(".resolution_popup").hide()}else{$(".resolution_popup").show()}}function l(){var L=$(".rate_popup").css("display");if($(".resolution_popup").css("display")){$(".resolution_popup").hide()}if(L!="none"){$(".rate_popup").hide();$(".btn_rate").removeClass("active")}else{$(".rate_popup").show();$(".btn_rate").addClass("active")}}function u(){var L=(H.getRate()-0.2)<0.6?0.6:(H.getRate()-0.2);H.setRate(L.toFixed(1))}function n(){var L=H.getRate()+0.2;H.setRate(L.toFixed(1))}function k(L){return L.originalEvent.changedTouches?L.originalEvent.changedTouches[0].pageX:L.pageX}$(".seekbar_l").bind("mousedown touchstart",function(O){var P=$(this);function M(R){var Q=k(R)-P.offset().left;var S=(Q/P.width())*H.getDuration();if(S<0){S=0}if(S>H.getDuration()){S=H.getDuration()}return S}function N(Q){var R=M(Q);K(R);Q.preventDefault()}function L(Q){y=false;var R=H.getCurrentPosition();H.setCurrentPosition(M(Q));$(document).unbind("mousemove touchmove",N);P.unbind("mousemove touchmove",N);$(document).unbind("mouseup touchend",L)}y=true;K(M(O));$(document).bind("mousemove touchmove",N);P.bind("mousemove touchmove",N);$(document).bind("mouseup touchend",L);O.preventDefault()});$(".btn_repeatA").bind("mousedown touchstart",function(O){var P=$(this).parent();function M(S){var R=k(S)-P.offset().left-7;var T=(R/P.width())*H.getDuration();if(T<0){T=0}else{if(T>H.getRepeatEndTime()){T=H.getRepeatEndTime()}}return T}function Q(T){var R=(T/H.getDuration())*100+"%";var S=((H.getRepeatEndTime()-T)/H.getDuration()*100)+"%";$(".btn_repeatA").css("left",R);$(".repeatbar").css("left",R).css("width",S);$("#text_currentTime").text(z(T))}function N(R){Q(M(R));R.preventDefault()}function L(R){F=false;H.setRepeatStartTime(M(R));$(document).unbind("mousemove touchmove",N);P.unbind("mousemove touchmove",N);$(document).unbind("mouseup touchend",L)}F=true;Q(M(O));$(document).bind("mousemove touchmove",N);P.bind("mousemove touchmove",N);$(document).bind("mouseup touchend",L);O.preventDefault();O.stopPropagation()});$(".btn_repeatB").bind("mousedown touchstart",function(O){var P=$(this).parent();function M(S){var R=k(S)-P.offset().left-7;var T=(R/P.width())*H.getDuration();if(T<H.getRepeatStartTime()){T=H.getRepeatStartTime()}else{if(T>H.getDuration()){T=H.getDuration()}}return T}function Q(S){var T=(S/H.getDuration())*100+"%";var R=((S-H.getRepeatStartTime())/H.getDuration()*100)+"%";$(".btn_repeatB").css("left",T);$(".repeatbar").css("width",R);$("#text_currentTime").text(z(S))}function N(R){Q(M(R));R.preventDefault()}function L(R){F=false;H.setRepeatEndTime(M(R));$(document).unbind("mousemove touchmove",N);P.unbind("mousemove touchmove",N);$(document).unbind("mouseup touchend",L)}F=true;Q(M(O));$(document).bind("mousemove touchmove",N);P.bind("mousemove touchmove",N);$(document).bind("mouseup touchend",L);O.preventDefault();O.stopPropagation()});$(".volumebar").bind("mousedown touchstart",function(O){var P=$(this);function N(S){var Q=k(S)-P.offset().left;var R=Q/P.width();if(R<0){R=0}else{if(R>1){R=1}}return R}function M(R){var Q=N(R);H.setVolume(Q);R.preventDefault()}function L(Q){H.setVolume(N(Q));$(document).unbind("mousemove touchmove",M);P.unbind("mousemove touchmove",M);$(document).unbind("mouseup touchend",L)}H.setVolume(N(O));$(document).bind("mousemove touchmove",M);P.bind("mousemove touchmove",M);$(document).bind("mouseup touchend",L);O.preventDefault()});H.bindEvent("open_state_change",t);H.bindEvent("play_state_change",h);H.bindEvent("rate_change",A);H.bindEvent("repeat_change",o);H.bindEvent("volume_change",C);H.bindEvent("repeat_range_change",x);H.bindEvent("fullscreen_change",d);H.bindEvent("position_change",r);var G;var j;function g(M){var L="";HTMLParser(M,{start:function(N,P,O){},end:function(N){},chars:function(N){L+=N.replace("&nbsp;"," ")},comment:function(N){}});return L}function p(M){if(typeof j=="undefined"){return}var N=parseInt(M/100,10)*100;var L=j.get(N);if(typeof L!="undefined"){return g(L)}return""}function w(L){j=G.getLanguage(L)}function i(M){G=new Smi();var L=subtitle_url+"?smi=";L+=encodeURIComponent(M);$.ajax({url:L,dataType:"jsonp",success:function(Q){var P=decodeURIComponent(Q);if(G.parse(P)==false){return}var O=G.getLangCount();if(O<1){return}var N=G.getLangNames();w(N)},error:function(N){}})}function r(L){$("#subtitle").text("")}function d(L){if(L){$(".btn_fullscreen").addClass("active")}else{$(".btn_fullscreen").removeClass("active")}s()}function t(M){switch(M){case OpenState.OPENING:break;case OpenState.OPENED:var L=H.getSubtitleUrl();if(L){i(L)}v=setInterval(J,100);break;case OpenState.CLOSED:f(0);break}B(a(M))}function h(L){switch(L){case PlayState.PLAYING:$(".btn_play").removeClass("btn_play").addClass("btn_pause");break;case PlayState.PAUSED:$(".btn_pause").removeClass("btn_pause").addClass("btn_play");break;case PlayState.STOPPED:$(".btn_pause").removeClass("btn_pause").addClass("btn_play");break;case PlayState.BUFFERING_STARTED:break}B(D(L))}function B(L){$(".control_text_status").text(L)}function A(N){$(".btn_common").removeClass("active");var L=Math.ceil(parseInt(N*10));L/=10;var M;switch(L){case 0.6:M=$(".btn_speed06");$(".btn_rate").css("background","url('./img/milkt.png') no-repeat -30px -140px");break;case 0.8:M=$(".btn_speed08");$(".btn_rate").css("background","url('./img/milkt.png') no-repeat -30px -150px");break;case 1:M=$(".btn_speed10");$(".btn_rate").css("background","url('./img/milkt.png') no-repeat -240px -150px");break;case 1.2:M=$(".btn_speed12");$(".btn_rate").css("background","url('./img/milkt.png') no-repeat -30px -160px");break;case 1.4:M=$(".btn_speed14");$(".btn_rate").css("background","url('./img/milkt.png') no-repeat -240px -160px");break;case 1.6:M=$(".btn_speed16");$(".btn_rate").css("background","url('./img/milkt.png') no-repeat -240px -170px");break;case 1.8:M=$(".btn_speed18");$(".btn_rate").css("background","url('./img/milkt.png') no-repeat -240px -180px");break;case 2:M=$(".btn_speed20");$(".btn_rate").css("background","url('./img/milkt.png') no-repeat -240px -190px");break}M.addClass("active")}function o(L){if(L){$(".btn_repeat").addClass("active");$(".btn_repeatA").css("left","0%").show();$(".btn_repeatB").css("left","100%").show()}else{$(".btn_repeat").removeClass("active");$(".btn_repeatA").hide();$(".btn_repeatB").hide()}}function C(M,L){if(L){$(".btn_mute").addClass("active")}else{$(".btn_mute").removeClass("active")}$(".btn_volume").css("left",M*100+"%");$(".current_volumebar").css("width",M*100+"%")}function x(P,M){if(H.getRepeat()){$(".btn_repeat").addClass("active");var L=(P/H.getDuration()*100)+"%";var O=(M/H.getDuration()*100)+"%";var N=((M-P)/H.getDuration()*100)+"%";$(".btn_repeatA").css("left",L).show();$(".btn_repeatB").css("left",O).show();$(".repeatbar").css("left",L).css("width",N).show()}else{$("btn_repeat").removeClass("active");$(".btn_repeatA").hide();$(".btn_repeatB").hide();$(".repeatbar").hide()}}function J(){var L=H.getCurrentPosition();if(!y){K(L)}if(typeof j!="undefined"){var M=p(L*1000);if(M!=""){$("#subtitle").text(M)}}}function K(M){var L=H.getDuration();var N=(L>0?(M/L)*100:0)+"%";$(".btn_seek").css("left",N);$(".currentbar").css("width",N);if(!F){$("#text_currentTime").text(z(M))}}function f(L){$("#text_duration").text(z(L))}function q(){if(H.getPlayState()==PlayState.PLAYING){H.pause()}else{H.play()}}function b(){var L=H.getRepeat();H.setRepeat(!L)}function m(){if(H.getPlayState()==PlayState.PLAYING||H.getPlayState()==PlayState.PAUSED){var L=H.getFullscreen();H.setFullscreen(!L)}else{H.setFullscreen(false)}}function I(){var L=H.getMute();H.setMute(!L)}function e(L){H.setRate(L)}function z(P){if(!P){P=0}var N=parseInt(P)%60;var L=parseInt(P/60)%60;var M=parseInt(P/60/60);function O(Q){if(Q<10){return"0"+Q}else{return Q}}return[O(M),O(L),O(N)].join(":")}function a(L){switch(L){case OpenState.CLOSED:return"닫힘";case OpenState.OPENING:return"여는 중";case OpenState.OPENED:return"열림";case OpenState.CLOSING:return"닫는 중"}}function D(L){switch(L){case PlayState.STOPPED:return"정지";case PlayState.PLAYING:return"재생중";case PlayState.PAUSED:return"일시정지";case PlayState.BUFFERING_STARTED:return"버퍼링";case PlayState.COMPLETE:return"재생완료"}}};
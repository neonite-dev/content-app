var subtitle_url="https://hbedu1.starplayer.net/scms/cc.php";function initScriptUI(x){var f=this;var B=false;var t=false;var k;$(".starplayer_script_ui a").click(function(E){E.preventDefault()});$(".starplayer_script_ui").each(function(){this.onselectstart=function(){return false};this.unselectable="on";jQuery(this).css("user-select","none");jQuery(this).css("-o-user-select","none");jQuery(this).css("-moz-user-select","none");jQuery(this).css("-khtml-user-select","none");jQuery(this).css("-webkit-user-select","none")});$(".btn_play").click(z);$(".btn_pause").click(function(){x.pause()});$(".btn_stop").click(function(){x.stop()});$(".btn_backward").click(function(){x.backward()});$(".btn_forward").click(function(){x.forward()});$(".btn_repeat").click(function(){p()});$(".btn_fullscreen").click(function(){D()});$(".btn_mute").click(function(){w()});$(".btn_speed06").click(function(){g(0.6)});$(".btn_speed08").click(function(){g(0.8)});$(".btn_speed10").click(function(){g(1)});$(".btn_speed12").click(function(){g(1.2)});$(".btn_speed14").click(function(){g(1.4)});$(".btn_speed16").click(function(){g(1.6)});$(".btn_speed18").click(function(){g(1.8)});$(".btn_speed20").click(function(){g(2)});function l(E){return E.originalEvent.changedTouches?E.originalEvent.changedTouches[0].pageX:E.pageX}$(".seekbar_l").bind("mousedown touchstart",function(H){var I=$(this);function F(K){var J=l(K)-I.offset().left;var L=(J/I.width())*x.getDuration();if(L<0){L=0}if(L>x.getDuration()){L=x.getDuration()}return L}function G(J){var K=F(J);n(K);J.preventDefault()}function E(J){B=false;var K=x.getCurrentPosition();x.setCurrentPosition(F(J));$(document).unbind("mousemove touchmove",G);I.unbind("mousemove touchmove",G);$(document).unbind("mouseup touchend",E)}B=true;n(F(H));$(document).bind("mousemove touchmove",G);I.bind("mousemove touchmove",G);$(document).bind("mouseup touchend",E);H.preventDefault()});$(".btn_repeatA").bind("mousedown touchstart",function(H){var I=$(this).parent();function F(L){var K=l(L)-I.offset().left-7;var M=(K/I.width())*x.getDuration();if(M<0){M=0}else{if(M>x.getRepeatEndTime()){M=x.getRepeatEndTime()}}return M}function J(M){var K=(M/x.getDuration())*100+"%";var L=((x.getRepeatEndTime()-M)/x.getDuration()*100)+"%";$(".btn_repeatA").css("left",K);$(".repeatbar").css("left",K).css("width",L);$("#text_currentTime").text(C(M))}function G(K){J(F(K));K.preventDefault()}function E(K){t=false;x.setRepeatStartTime(F(K));$(document).unbind("mousemove touchmove",G);I.unbind("mousemove touchmove",G);$(document).unbind("mouseup touchend",E)}t=true;J(F(H));$(document).bind("mousemove touchmove",G);I.bind("mousemove touchmove",G);$(document).bind("mouseup touchend",E);H.preventDefault();H.stopPropagation()});$(".btn_repeatB").bind("mousedown touchstart",function(H){var I=$(this).parent();function F(L){var K=l(L)-I.offset().left-7;var M=(K/I.width())*x.getDuration();if(M<x.getRepeatStartTime()){M=x.getRepeatStartTime()}else{if(M>x.getDuration()){M=x.getDuration()}}return M}function J(L){var M=(L/x.getDuration())*100+"%";var K=((L-x.getRepeatStartTime())/x.getDuration()*100)+"%";$(".btn_repeatB").css("left",M);$(".repeatbar").css("width",K);$("#text_currentTime").text(C(L))}function G(K){J(F(K));K.preventDefault()}function E(K){t=false;x.setRepeatEndTime(F(K));$(document).unbind("mousemove touchmove",G);I.unbind("mousemove touchmove",G);$(document).unbind("mouseup touchend",E)}t=true;J(F(H));$(document).bind("mousemove touchmove",G);I.bind("mousemove touchmove",G);$(document).bind("mouseup touchend",E);H.preventDefault();H.stopPropagation()});$(".volumebar").bind("mousedown touchstart",function(H){var I=$(this);function G(L){var J=l(L)-I.offset().left;var K=J/I.width();if(K<0){K=0}else{if(K>1){K=1}}return K}function F(K){var J=G(K);x.setVolume(J);K.preventDefault()}function E(J){x.setVolume(G(J));$(document).unbind("mousemove touchmove",F);I.unbind("mousemove touchmove",F);$(document).unbind("mouseup touchend",E)}x.setVolume(G(H));$(document).bind("mousemove touchmove",F);I.bind("mousemove touchmove",F);$(document).bind("mouseup touchend",E);H.preventDefault()});x.bindEvent("open_state_change",A);x.bindEvent("play_state_change",o);x.bindEvent("rate_change",q);x.bindEvent("repeat_change",a);x.bindEvent("volume_change",s);x.bindEvent("repeat_range_change",i);x.bindEvent("position_change",c);var m;var e;function u(F){var E="";HTMLParser(F,{start:function(G,I,H){},end:function(G){},chars:function(G){E+=G.replace("&nbsp;"," ")},comment:function(G){}});return E}function h(F){if(typeof e=="undefined"){return}var G=parseInt(F/100,10)*100;var E=e.get(G);if(typeof E!="undefined"){return u(E)}return""}this.setLanguageChange=function(E){if(typeof m!="undefined"){$("#subtitle").text("");e=m.getLanguage(E)}};function j(F){m=new Smi();var E=subtitle_url+"?smi=";E+=encodeURIComponent(F);$.ajax({url:E,dataType:"jsonp",success:function(J){var I=decodeURIComponent(J);if(m.parse(I)==false){return}var H=m.getLangCount();if(H<1){return}var G=m.getLangNames();f.setLanguageChange(G[0])},error:function(G){}})}function A(F){switch(F){case OpenState.OPENING:break;case OpenState.OPENED:d(x.getDuration());var E=x.getSubtitleUrl();if(E){j(E)}k=setInterval(v);break;case OpenState.CLOSED:d(0);break}r(b(F))}function o(E){switch(E){case PlayState.PLAYING:$(".btn_play").removeClass("btn_play").addClass("btn_pause");break;case PlayState.PAUSED:$(".btn_pause").removeClass("btn_pause").addClass("btn_play");break;case PlayState.STOPPED:$(".btn_pause").removeClass("btn_pause").addClass("btn_play");break;case PlayState.BUFFERING_STARTED:break}r(y(E))}function r(E){$(".control_text_status").text(E)}function q(G){$(".btn_common").removeClass("active");var E=Math.ceil(parseInt(G*10));E/=10;var F;switch(E){case 0.6:F=$(".btn_speed06");break;case 0.8:F=$(".btn_speed08");break;case 1:F=$(".btn_speed10");break;case 1.2:F=$(".btn_speed12");break;case 1.3:F=$(".btn_speed14");break;case 1.4:F=$(".btn_speed14");break;case 1.6:F=$(".btn_speed16");break;case 1.7:F=$(".btn_speed18");break;case 1.8:F=$(".btn_speed18");break;case 2:F=$(".btn_speed20");break}F.addClass("active")}function a(E){if(E){$(".btn_repeat").addClass("active");$(".currentbar").hide();$(".repeatbar").css("left","0%").css("width","100%").show();$(".btn_repeatA").css("left","0%").show();$(".btn_repeatB").css("left","100%").show()}else{$(".btn_repeat").removeClass("active");$(".currentbar").show();$(".repeatbar").hide();$(".btn_repeatA").hide();$(".btn_repeatB").hide()}}function s(F,E){if(E){$(".btn_mute").addClass("active")}else{$(".btn_mute").removeClass("active")}$(".btn_volume").css("left",F*100+"%");$(".current_volumebar").css("width",F*100+"%")}function i(I,F){if(x.getRepeat()){$(".btn_repeat").addClass("active");var E=(I/x.getDuration()*100)+"%";var H=(F/x.getDuration()*100)+"%";var G=((F-I)/x.getDuration()*100)+"%";$(".btn_repeatA").css("left",E).show();$(".btn_repeatB").css("left",H).show();$(".repeatbar").css("left",E).css("width",G).show()}else{$("btn_repeat").removeClass("active");$(".btn_repeatA").hide();$(".btn_repeatB").hide();$(".repeatbar").hide()}}function c(E){$("#subtitle").text("")}function v(){var E=x.getCurrentPosition();if(!B){n(E)}if(typeof e!="undefined"){var F=h(E*1000);if(F!=""){$("#subtitle").text(F)}}}function n(F){var E=x.getDuration();var G=(E>0?(F/E)*100:0)+"%";$(".btn_seek").css("left",G);$(".currentbar").css("width",G);if(!t){$("#text_currentTime").text(C(F))}}function d(E){$("#text_duration").text(C(E))}function z(){if(x.getPlayState()==PlayState.PLAYING){x.pause()}else{x.play()}}function p(){var E=x.getRepeat();x.setRepeat(!E)}function D(){if(x.getPlayState()==PlayState.PLAYING||x.getPlayState()==PlayState.PAUSED){var E=x.getFullscreen();x.setFullscreen(!E)}else{x.setFullscreen(false)}}function w(){var E=x.getMute();x.setMute(!E)}function g(E){x.setRate(E)}function C(I){if(!I){I=0}var G=parseInt(I)%60;var E=parseInt(I/60)%60;var F=parseInt(I/60/60);function H(J){if(J<10){return"0"+J}else{return J}}return[H(F),H(E),H(G)].join(":")}function b(E){switch(E){case OpenState.CLOSED:return"닫힘";case OpenState.OPENING:return"여는중";case OpenState.OPENED:return"열림";case OpenState.CLOSING:return"닫는중"}}function y(E){switch(E){case PlayState.STOPPED:return"정지";case PlayState.PLAYING:return"재생중";case PlayState.PAUSED:return"일시정지";case PlayState.BUFFERING_STARTED:return"버퍼링";case PlayState.COMPLETE:return"재생완료"}}};